@import './styles/tokens.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Arabic Font - Nabi */
@font-face {
  font-family: 'Nabi';
  src: url('/fonts/Nabi.ttf') format('truetype');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

.font-arabic {
  font-family: 'Nabi', 'Traditional Arabic', 'Scheherazade New', 'Amiri', 'Noto Naskh Arabic', serif;
}

@layer base {
  :root {
    /* Background */
    --background: var(--color-base);
    --foreground: var(--text-primary);
    --foreground-muted: var(--text-secondary);
    
    /* Surfaces */
    --surface: var(--surface-elevated);
    --card: var(--surface-card);
    --card-foreground: var(--text-primary);
    --popover: var(--surface-card);
    --popover-foreground: var(--text-primary);
    
    /* Primary - Deep Green */
    --primary: var(--color-primary);
    --primary-foreground: var(--text-inverted);
    --primary-soft: var(--color-primary-soft);
    
    /* Secondary - Stone/Sand */
    --secondary: var(--color-pink);
    --secondary-foreground: var(--text-primary);
    
    /* Accent - Amber/Orange */
    --accent: var(--color-accent);
    --accent-foreground: var(--text-inverted);
    
    /* Success - Green */
    --success: var(--color-green);
    --success-foreground: var(--text-primary);
    
    /* Warning - Yellow */
    --warn: var(--color-yellow);
    --warn-foreground: var(--text-primary);
    
    /* Muted */
    --muted: var(--border-light);
    --muted-foreground: var(--text-secondary);
    
    /* Destructive */
    --destructive: 0 72% 51%;
    --destructive-foreground: var(--text-inverted);
    
    /* Borders */
    --border: var(--border-light);
    --input: var(--border-medium);
    --ring: var(--color-primary);
    
    /* Radius */
    --radius: var(--radius-md);
    
    /* Charts */
    --chart-1: var(--color-primary);
    --chart-2: var(--color-accent);
    --chart-3: var(--color-green);
    --chart-4: var(--color-blue);
    --chart-5: var(--color-yellow);
  }

  .dark {
    --background: var(--surface-base);
    --foreground: var(--text-primary);
    --card: var(--surface-card);
    --card-foreground: var(--text-primary);
    --popover: var(--surface-card);
    --popover-foreground: var(--text-primary);
    --border: var(--border-light);
    --primary-foreground: var(--text-inverted);
    --accent-foreground: var(--text-inverted);
  }
}

@layer base {
  * {
    @apply border-border;
  }

  html {
    -webkit-text-size-adjust: none !important;
    -moz-text-size-adjust: none !important;
    text-size-adjust: none !important;
    -webkit-font-size-adjust: none;
    font-size: 16px !important;
  }

  * {
    -webkit-text-size-adjust: none !important;
    text-size-adjust: none !important;
  }

  body {
    @apply bg-background text-foreground;
    font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Inter', system-ui, sans-serif;
    font-feature-settings: 'ss01' 1, 'cv01' 1;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  /* Typography Scale */
  .text-display { font-size: var(--font-display); font-weight: 700; letter-spacing: -0.02em; line-height: 1.1; }
  .text-title-1 { font-size: var(--font-title-1); font-weight: 700; letter-spacing: -0.02em; line-height: 1.15; }
  .text-title-2 { font-size: var(--font-title-2); font-weight: 600; letter-spacing: -0.01em; line-height: 1.2; }
  .text-title-3 { font-size: var(--font-title-3); font-weight: 600; line-height: 1.25; }
  .text-headline { font-size: var(--font-headline); font-weight: 600; line-height: 1.3; }
  .text-body { font-size: var(--font-body); font-weight: 400; line-height: 1.5; }
  .text-callout { font-size: var(--font-callout); font-weight: 400; line-height: 1.4; }
  .text-subhead { font-size: var(--font-subhead); font-weight: 400; line-height: 1.35; }
  .text-footnote { font-size: var(--font-footnote); font-weight: 400; line-height: 1.4; }
  .text-caption-1 { font-size: var(--font-caption-1); font-weight: 400; line-height: 1.3; }
  .text-caption-2 { font-size: var(--font-caption-2); font-weight: 400; line-height: 1.25; }

  /* Hide scrollbar */
  .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
  .scrollbar-hide::-webkit-scrollbar { display: none; }
}

@layer utilities {
  /* Pastel Background Colors */
  .bg-pastel-pink { background: hsl(var(--color-pink)); }
  .bg-pastel-pink-soft { background: hsl(var(--color-pink-soft)); }
  .bg-pastel-lavender { background: hsl(var(--color-lavender)); }
  .bg-pastel-lavender-soft { background: hsl(var(--color-lavender-soft)); }
  .bg-pastel-green { background: hsl(var(--color-green)); }
  .bg-pastel-green-soft { background: hsl(var(--color-green-soft)); }
  .bg-pastel-blue { background: hsl(var(--color-blue)); }
  .bg-pastel-blue-soft { background: hsl(var(--color-blue-soft)); }
  .bg-pastel-yellow { background: hsl(var(--color-yellow)); }
  .bg-pastel-yellow-soft { background: hsl(var(--color-yellow-soft)); }
  
  /* Pastel Text Colors */
  .text-pastel-pink { color: hsl(var(--color-pink-dark)); }
  .text-pastel-lavender { color: hsl(var(--color-lavender-dark)); }
  .text-pastel-green { color: hsl(var(--color-green-dark)); }
  .text-pastel-blue { color: hsl(var(--color-blue-dark)); }
  .text-pastel-yellow { color: hsl(var(--color-yellow-dark)); }
  
  /* Premium Card Styles */
  .ios-card {
    @apply rounded-2xl bg-card;
    box-shadow: var(--shadow-card);
  }
  
  .ios-card-elevated {
    @apply rounded-2xl bg-card;
    box-shadow: var(--shadow-elevated);
  }
  
  .ios-card-interactive {
    @apply ios-card transition-all;
    transition-duration: var(--duration-fast);
  }
  
  .ios-card-interactive:active {
    transform: scale(0.98);
  }
  
  /* Premium Glass Card */
  .glass-card {
    @apply rounded-2xl;
    background: var(--glass-bg);
    backdrop-filter: blur(var(--glass-blur));
    -webkit-backdrop-filter: blur(var(--glass-blur));
    border: 1px solid var(--glass-border);
    box-shadow: var(--shadow-md);
  }
  
  .glass-card-dark {
    @apply rounded-2xl;
    background: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(var(--glass-blur));
    -webkit-backdrop-filter: blur(var(--glass-blur));
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: var(--shadow-lg);
  }
  
  /* Premium Hero Card */
  .hero-card-green {
    @apply rounded-3xl overflow-hidden relative;
    background: linear-gradient(145deg, hsl(152 35% 27%) 0%, hsl(152 35% 18%) 100%);
    box-shadow: var(--shadow-premium);
  }
  
  .hero-card-orange {
    @apply rounded-3xl overflow-hidden relative;
    background: linear-gradient(145deg, hsl(28 72% 63%) 0%, hsl(28 72% 50%) 100%);
    box-shadow: var(--shadow-premium);
  }
  
  /* Premium Button Styles */
  .ios-button {
    @apply rounded-xl font-semibold transition-all;
    transition-duration: var(--duration-fast);
  }
  
  .ios-button:active {
    transform: scale(0.97);
    opacity: 0.9;
  }
  
  .ios-button-primary {
    @apply ios-button px-5 py-3;
    background: hsl(var(--primary));
    color: hsl(var(--primary-foreground));
    box-shadow: 0 4px 14px hsl(var(--primary) / 0.3);
  }
  
  .ios-button-primary:hover {
    box-shadow: 0 6px 20px hsl(var(--primary) / 0.4);
  }
  
  .ios-button-secondary {
    @apply ios-button px-5 py-3;
    background: hsl(var(--primary-soft));
    color: hsl(var(--primary));
  }
  
  .ios-button-dark {
    @apply ios-button px-5 py-3;
    background: hsl(0 0% 10%);
    color: hsl(0 0% 100%);
    box-shadow: 0 4px 14px rgba(0, 0, 0, 0.25);
  }
  
  .ios-button-accent {
    @apply ios-button px-5 py-3;
    background: hsl(var(--accent));
    color: hsl(var(--accent-foreground));
    box-shadow: 0 4px 14px hsl(var(--accent) / 0.3);
  }
  
  /* Gradient Progress Bar */
  .progress-gradient {
    @apply h-2 rounded-full overflow-hidden;
    background: hsl(var(--muted));
  }
  
  .progress-gradient-fill {
    @apply h-full rounded-full;
    background: linear-gradient(90deg, hsl(var(--primary)) 0%, hsl(var(--accent)) 100%);
  }
  
  .progress-gradient-green {
    @apply h-full rounded-full;
    background: linear-gradient(90deg, hsl(152 35% 35%) 0%, hsl(152 35% 50%) 100%);
  }
  
  .progress-gradient-orange {
    @apply h-full rounded-full;
    background: linear-gradient(90deg, hsl(28 72% 55%) 0%, hsl(36 91% 55%) 100%);
  }
  
  /* Spacing */
  .page-padding { padding-left: var(--page-padding); padding-right: var(--page-padding); }
  .safe-bottom { padding-bottom: var(--safe-bottom); }
  .section-gap { gap: var(--space-3); }
  
  /* Safe area for mobile devices with home indicators */
  .pb-safe { padding-bottom: max(env(safe-area-inset-bottom, 16px), 16px); }
  .mb-safe { margin-bottom: max(env(safe-area-inset-bottom, 16px), 16px); }
  .content-gap { gap: var(--space-2); }
  
  /* Animations */
  .animate-spring { transition-timing-function: var(--ease-spring); }
  .animate-bounce-soft { animation: bounce-soft 0.4s var(--ease-spring); }
  .animate-pop { animation: pop 0.3s var(--ease-spring); }
  .animate-shake { animation: shake 0.4s var(--ease-smooth); }
  .animate-glow { animation: glow 2s ease-in-out infinite; }
  .animate-float { animation: float 3s ease-in-out infinite; }
  .animate-pulse-soft { animation: pulse-soft 2s ease-in-out infinite; }
  .animate-slide-up { animation: slide-up 0.3s ease-out; }
  .animate-scale-in { animation: scale-in 0.2s ease-out; }
  
  @media (prefers-reduced-motion: reduce) {
    .animate-spring, .animate-bounce-soft, .animate-pop, .animate-shake,
    .animate-glow, .animate-float, .animate-pulse-soft, .animate-slide-up, .animate-scale-in {
      animation: none;
      transition: opacity 0.2s ease;
    }
  }
}

/* Keyframes */
@keyframes bounce-soft { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }
@keyframes pop { 0% { transform: scale(0.95); opacity: 0; } 50% { transform: scale(1.02); } 100% { transform: scale(1); opacity: 1; } }
@keyframes shake { 0%, 100% { transform: translateX(0); } 20% { transform: translateX(-4px); } 40% { transform: translateX(4px); } 60% { transform: translateX(-2px); } 80% { transform: translateX(2px); } }
@keyframes glow { 0%, 100% { box-shadow: 0 0 12px hsl(var(--primary) / 0.3); } 50% { box-shadow: 0 0 24px hsl(var(--primary) / 0.5); } }
@keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-6px); } }
@keyframes pulse-soft { 0%, 100% { opacity: 1; } 50% { opacity: 0.7; } }
@keyframes slide-up { 0% { transform: translateY(16px); opacity: 0; } 100% { transform: translateY(0); opacity: 1; } }
@keyframes fade-in { 0% { opacity: 0; } 100% { opacity: 1; } }
@keyframes scale-in { 0% { transform: scale(0.9); opacity: 0; } 100% { transform: scale(1); opacity: 1; } }
@keyframes check-pop { 0% { transform: scale(0); } 50% { transform: scale(1.2); } 100% { transform: scale(1); } }
@keyframes progress-fill { 0% { width: 0%; } 100% { width: var(--progress-width, 100%); } }
@keyframes ring-fill { 0% { stroke-dashoffset: 282.74; } 100% { stroke-dashoffset: var(--ring-offset, 0); } }
@keyframes bar-grow { 0% { transform: scaleY(0); } 100% { transform: scaleY(1); } }
